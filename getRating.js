const data = {"Boxbox":[[0,0,0,1200],[2020,5,4,891],[2020,5,5,978],[2020,5,6,992],[2020,5,7,1000],[2020,5,8,1038],[2020,5,9,1022],[2020,5,10,1015],[2020,5,11,1029],[2020,5,12,1052],[2020,5,13,1076],[2020,5,14,1149],[2020,5,15,1138],[2020,5,16,1122],[2020,5,21,1135],[2020,5,23,1126],[2020,5,24,1126],[2020,5,26,1117],[2020,5,30,1111]],"Yassuo":[[0,0,0,1200],[2020,5,3,1181],[2020,5,4,1057],[2020,5,5,1063],[2020,5,8,1111],[2020,5,9,1091],[2020,5,10,967],[2020,5,11,959],[2020,5,13,940],[2020,5,14,949],[2020,5,15,932],[2020,5,16,930],[2020,5,17,908],[2020,5,18,897],[2020,5,19,901],[2020,5,21,894],[2020,5,23,885],[2020,5,25,836],[2020,5,26,812],[2020,5,27,808],[2020,5,28,806],[2020,5,29,776],[2020,5,30,717],[2020,5,31,725],[2020,6,1,733]],"Voyboy":[[2015,5,20,1357],[2020,5,5,1357],[2020,5,12,1447],[2020,5,14,1671]],"xChocobars":[[0,0,0,1200],[2020,5,22,608],[2020,5,30,874],[2020,5,31,816]],"fuslie":[[0,0,0,1200],[2020,5,21,988],[2020,5,22,874],[2020,5,26,701]],"NymN":[[0,0,0,1200],[2020,5,13,910],[2020,5,14,748],[2020,5,15,712],[2020,5,16,745],[2020,5,17,743],[2020,5,18,804],[2020,5,19,810],[2020,5,20,818],[2020,5,25,783],[2020,5,31,766],[2020,6,1,751]],"Lex Veldhuis":[[2020,3,27,671]],"ItsSlikeR":[[0,0,0,1200],[2020,5,13,646],[2020,5,14,1261],[2020,5,15,1122],[2020,5,16,1052],[2020,5,17,1019],[2020,5,18,969],[2020,5,19,957],[2020,5,20,948],[2020,5,21,933],[2020,5,22,914],[2020,5,23,912],[2020,5,24,905],[2020,5,25,887],[2020,5,26,890],[2020,5,27,857],[2020,5,28,848],[2020,5,29,823],[2020,5,30,828],[2020,5,31,787],[2020,6,1,805]],"xQc":[[2020,4,2,675],[2020,5,4,556],[2020,5,5,589],[2020,5,6,573],[2020,5,7,585],[2020,5,8,555],[2020,5,9,552],[2020,5,10,585],[2020,5,11,645],[2020,5,12,619],[2020,5,13,601],[2020,5,14,579],[2020,5,15,587],[2020,5,16,617],[2020,5,17,617],[2020,5,18,622],[2020,5,19,600],[2020,5,20,590],[2020,5,21,594],[2020,5,22,597],[2020,5,23,587],[2020,5,24,565],[2020,5,25,611],[2020,5,26,694],[2020,5,27,726],[2020,5,28,702],[2020,5,29,727],[2020,5,30,707],[2020,5,31,706]],"LIRIK":[[0,0,0,1200],[2020,5,26,633],[2020,5,27,381]],"Reckful":[[2018,11,27,1000],[2020,5,17,869],[2020,5,18,823],[2020,5,19,804],[2020,5,20,818],[2020,5,27,812],[2020,5,28,855],[2020,5,29,897],[2020,5,30,954],[2020,5,31,1013]],"Forsen":[[2018,11,5,1332]],"moistcr1tikal":[[0,0,0,1200],[2020,5,5,619],[2020,5,12,582],[2020,5,15,535],[2020,5,27,582],[2020,5,29,600],[2020,5,30,624],[2020,6,1,616]],"Lugwig":[[2018,11,28,592],[2020,5,25,645],[2020,5,26,1013],[2020,5,27,960],[2020,5,28,921],[2020,5,29,957],[2020,5,31,948],[2020,6,1,970]]}

function DMYtoTime(day, month, year) {
    var d = new Date()
    d.setMonth(month - 1)
    d.setDate(day)
    d.setFullYear(year)
    return d.getTime()
}
function getRating(player, day, month, year) {
    var history = data[player]
    var targetTime = DMYtoTime(day, month, year) + (60*60*24*1000/2) // adding half a day for padding b/c time varies by a few ms
    for (i in history) {
        var entry = history[i]
        var entryTime = DMYtoTime(entry[2], entry[1], entry[0])
        if (entryTime > targetTime) {
            if (i == 0) i++
            return history[i - 1][3]
        }
    }
    return history[history.length - 1][3]
}